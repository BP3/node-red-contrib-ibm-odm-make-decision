<!--========================================================================
 =
 = Copyright (c) BP3 Global Inc. 2018. All Rights Reserved.
 =
 = Permission is hereby granted, free of charge, to any person obtaining
 = a copy of this software and associated documentation files (the
 = "Software"), to deal in the Software without restriction, including
 = without limitation the rights to use, copy, modify, merge, publish,
 = distribute, sublicense, and/or sell copies of the Software, and to
 = permit persons to whom the Software is furnished to do so, subject to
 = the following conditions:
 =
 = The above copyright notice and this permission notice shall be
 = included in all copies or substantial portions of the Software.
 =
 ===========================================================================-->
<script type="text/javascript">
  RED.nodes.registerType("decision-server-config", {
    category: "config",
    defaults: {
      name: {},
      protocolHost: {},
      baseEndpointURL: {},
      port: {},
      useBasicAuthentication: {
        value: false
      }
    },
    credentials: {
      authUser: {},
      authPassword: {}
    },
    label: function() {
      return this.name;
    }
  });
</script>

<script type="text/x-red" data-template-name="decision-server-config">
  <div class="form-row">
    <label for="node-config-input-name">Name</label>
    <input type="text" id="node-config-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-config-input-protocolHost">Protocol and Host</label>
    <input type="text" id="node-config-input-protocolHost" placeholder="e.g. http&#58//localhost">
  </div>
  <div class="form-row">
    <label for="node-config-input-port">Port</label>
    <input type="text" id="node-config-input-port" placeholder="e.g. 9080 or 9443 or blank if not required">
  </div>
  <div class="form-row">
    <label for="node-config-input-baseEndpointURL">Base Endpoint URL</label>
    <input type="text" id="node-config-input-baseEndpointURL" placeholder="Base Endpoint URL e.g. DecisionService/rest/v1">
  </div>
  <div class="form-row">
    <label for="node-config-input-useBasicAuthentication">Use Basic Authentication?</label>
    <input type="checkbox" id="node-config-input-useBasicAuthentication">
  </div>
  <div class="form-row">
    <label for="node-config-input-authUser">Authentication User</label>
    <input type="text" id="node-config-input-authUser" placeholder="Authentication user or blank if not required">
  </div>
  <div class="form-row">
    <label for="node-config-input-authPassword">Authentication Password</label>
    <input type="password" id="node-config-input-authPassword" placeholder="Authentication password or blank if not required">
  </div>
</script>

<script type="text/x-red" data-help-name="decision-server-config">
  <p>This configuration node allows Decision Server details to be set and reused across multiple make decision nodes.</p>
  <p>The available configuration properties are:</p>
  <ul>
    <li>
      <b>Protocol Host:</b> This is the HTTP protocol and the host, for example <code>http://localhost</code>
       or <code>https://myodm.bpm.ibmcloud.com</code>.
    </li>
    <li>
      <b>Port:</b> This is the port (which can be blank), for example <code>9080</code> or <code>9443</code>.
    </li>
    <li>
      <b>Base End Point URL:</b> This is the endpoint base URL upto the rule app name (but after the protocol and host)
       which forms the start of the ruleset path. For example <code>odm/dev/DecisionService/rest/v1</code>.
    </li>
    <li>
      <b>Use Basic Authentication?:</b> If set to <code>true</code> then the decision service call will attempt to
       authenticate using Basic Authentication. If set to <code>false</code> then no authentication will be performed.
    </li>
    <li>
      <b>Authentication User:</b> The user used in the basic authentication authorisation process.
    </li>
    <li>
      <b>Authentication Password:</b> The password used in the basic authentication authorisation process.
    </li>
  </ul>
</script>
